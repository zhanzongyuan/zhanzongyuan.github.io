{"summary":"<h2 id=\"1-Anaconda和conda概念\"><a href=\"#1-Anaconda和conda概念\" class=\"headerlink\" title=\"1. Anaconda和conda概念\"></a>1. Anaconda和conda概念</h2><p>conda是包管理器和环境管理器，相当于结合了pip和virtualenv的功能</p>\n<p>Anaconda在英文中是“蟒蛇”，Anaconda是一个包含180+的科学包及其依赖项的发行版本。</p>\n<blockquote>\n<p> 这里先解释下conda、anaconda这些概念的差别。<code>conda</code>可以理解为一个工具，也是一个可执行命令，其核心功能是<strong>包管理</strong>与<strong>环境管理</strong>。包管理与pip的使用类似，环境管理则允许用户方便地安装不同版本的python并可以快速切换。Anaconda则是一个<strong>打包的集合</strong>，里面预装好了conda、某个版本的python、众多packages、科学计算工具等等，所以也称为Python的一种发行版。其实还有Miniconda，顾名思义，它只包含最基本的内容——python与conda，以及相关的必须依赖项，对于空间要求严格的用户，Miniconda是一种选择。作者：PeterYuan链接：<a href=\"https://www.jianshu.com/p/2f3be7781451來源：简书著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/2f3be7781451來源：简书著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</a></p>\n</blockquote>\n<p>Anaconda 附带了一大批常用数据科学包，它附带了 conda、Python 和 150 多个科学包及其依赖项。因此你可以立即开始处理数据。</p>\n<p>Anaconda 是在 conda（一个包管理器和环境管理器）上发展出来的。</p>\n<blockquote>\n<p>Anaconda安装镜像：<a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/\" target=\"_blank\" rel=\"noopener\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a></p>\n</blockquote>\n<h2 id=\"2-conda使用\"><a href=\"#2-conda使用\" class=\"headerlink\" title=\"2. conda使用\"></a>2. conda使用</h2><h3 id=\"2-1-管理安装包\"><a href=\"#2-1-管理安装包\" class=\"headerlink\" title=\"2.1 管理安装包\"></a>2.1 管理安装包</h3><p>在数据分析中，你会用到很多第三方的包，而conda（包管理器）可以很好的帮助你在计算机上安装和管理这些包，包括安装、卸载和更新包。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda list</span><br><span class=\"line\">conda upgrade    --all</span><br><span class=\"line\">conda search nums</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 管理包操作：安装 卸载 更新</span></span><br><span class=\"line\">conda install package_name</span><br><span class=\"line\">conda remove package_name</span><br><span class=\"line\">conda update package_name</span><br></pre></td></tr></table></figure>\n<p>conda 还会自动为你安装依赖项。例如，scipy 依赖于 numpy，因为它使用并需要 numpy。如果你只安装 scipy (conda install scipy)，则 conda 还会安装 numpy（如果尚未安装的话）。</p>\n<h3 id=\"2-2-管理环境\"><a href=\"#2-2-管理环境\" class=\"headerlink\" title=\"2.2 管理环境\"></a>2.2 管理环境</h3><p>conda 可以为你不同的项目建立不同的运行环境。</p>\n<ol>\n<li>安装nb_conda用于notebook自动关联nb_conda的环境。</li>\n<li>创建环境</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n env_name package_names</span><br><span class=\"line\">conda create -n py3 pandas <span class=\"comment\"># 要创建环境名称为 py3 的环境并在其中安装 numpy</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>创建环境时，可以指定要安装在环境中的 Python 版本</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n py3 python=3 </span><br><span class=\"line\">conda create -n py2 python=2</span><br><span class=\"line\">conda create -n py python=3.6 <span class=\"comment\"># 如果你要安装特定版本（例如 Python 3.6）</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>进入环境</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> activate my_env</span><br></pre></td></tr></table></figure>\n<ol>\n<li><p>离开环境</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> deactivate</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>共享环境</p>\n</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda env <span class=\"built_in\">export</span> &gt; environment.yaml <span class=\"comment\"># 将你当前的环境保存到文件中包保存为YAML文件（包括Pyhton版本和所有包的名称）。</span></span><br><span class=\"line\">conda env update -f=/path/to/environment.yml <span class=\"comment\"># 其中-f表示你要导出文件在本地的路径，所以/path/to/environment.yml要换成你本地的实际路径</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r /path/requirements.txt <span class=\"comment\"># 对于不使用conda</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li>列出环境</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda env list</span><br></pre></td></tr></table></figure>\n<ol>\n<li>删除环境</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda env remove -n env_name</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.zhihu.com/question/58033789\" target=\"_blank\" rel=\"noopener\">https://www.zhihu.com/question/58033789</a></li>\n<li><a href=\"https://www.jianshu.com/p/2f3be7781451\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/2f3be7781451</a></li>\n<li>anaconda官方文档：<a href=\"https://www.anaconda.com\" target=\"_blank\" rel=\"noopener\">https://www.anaconda.com</a></li>\n<li>conda官方文档：<a href=\"https://conda.io/docs/user-guide/tasks/index.html\" target=\"_blank\" rel=\"noopener\">https://conda.io/docs/user-guide/tasks/index.html</a></li>\n</ul>\n<p>安装Anaconda常见问题：<a href=\"https://zhuanlan.zhihu.com/p/34337889\" target=\"_blank\" rel=\"noopener\">https://zhuanlan.zhihu.com/p/34337889</a></p>\n</blockquote>\n<h3 id=\"2-3-conda源\"><a href=\"#2-3-conda源\" class=\"headerlink\" title=\"2.3 conda源\"></a>2.3 conda源</h3><p>科大：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</span><br><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</span><br><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/</span><br><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/</span><br><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/</span><br><span class=\"line\">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/</span><br><span class=\"line\"></span><br><span class=\"line\">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure>\n"}